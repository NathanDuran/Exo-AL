<div class="content">

    <header class="pageHeader">
        <h1>Results</h1>
    </header>

    <div class="container">
        <h2 class="sectionHeader"><span id="resultsLabel_1"></span></h2>
        <div class="chartContainer" id="pieChartContainer_1"></div>
        <div class="chartContainer" id="confusionMatrixContainer_1"></div>
        <h2 class="sectionHeader">
            Correct: <span id="correctLabel_1"></span><br>
            Incorrect <span id="incorrectLabel_1"></span><br>
            Total: <span id="totalNumLabel_1"></span><br>
        </h2>
        <hr>
    </div>

    <div class="container">
        <h2 class="sectionHeader"><span id="resultsLabel_2"></span></h2>
        <div class="chartContainer" id="pieChartContainer_2"></div>
        <div class="chartContainer" id="confusionMatrixContainer_2"></div>
        <h2 class="sectionHeader">
            Correct: <span id="correctLabel_2"></span><br>
            Incorrect: <span id="incorrectLabel_2"></span><br>
            Total: <span id="totalNumLabel_2"></span><br>
        </h2>
    </div>

    <script>

        $(document).ready(function () {

            var responseObj;

            $.post("/ClassifyManager", {action: ""}, function (responseText) {
                console.log("ClassifyManager response: " + responseText);
                responseObj = JSON.parse(responseText);
                displayResults(responseObj, 1);
            });
        });

        function displayResults(responseObj, id) {
            //Title
            document.getElementById("resultsLabel_" + id).innerHTML = responseObj.resultSetLabel;

            //Pie chart
            var pieData = [{"label": "Correct", "value": responseObj.correctPercent},
                {"label": "Inorrect", "value": responseObj.incorrectPercent}];
            renderPieChart(pieData, d3.select("#pieChartContainer_" + id));

            //Confusion matrix
            renderConfusionMatrix(responseObj.matrix, d3.select("#confusionMatrixContainer_" + id));

            //Number correct/incorrect and total
            document.getElementById("correctLabel_" + id).innerHTML = responseObj.correct;
            document.getElementById("incorrectLabel_" + id).innerHTML = responseObj.incorrect;
            document.getElementById("totalNumLabel_" + id).innerHTML = responseObj.totalNumInstances;
        }

    </script>
</div>


